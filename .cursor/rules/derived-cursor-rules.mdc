---
description: AI rules derived by SpecStory from the project AI interaction history
globs: *
---

## HEADERS

(No existing headers)

## TECH STACK

*   The AI coding assistant can now use Node.js version v22.17.1 for project development.
*   The AI coding assistant can now use the following libraries: next, react, react-dom, tailwindcss, postcss, autoprefixer and lucide-react.

## PROJECT DOCUMENTATION & CONTEXT SYSTEM

*   **Last Updated:** December 8, 2025
*   **Status:** Implementation In Progress
*   **Current Phase:** Phase 2.1 - Token Flow Diagram Component
*   When updating the design system app's UI, always use the design system itself and best practices in UI and visual rhythm to standardize the use of color, giving each color a purpose. Prefer shades over using too many distracting colors.
*   When modernizing the design system, follow the "Modernization 2.0" style guidelines, which include strict guidelines for the color system, typography, and component usage.
*   Reference the `styleguide.md` file for detailed Modernization 2.0 style rules.

### Token Architecture Layers

````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  05-Greenshift (Framework Adapter)                          â”‚
â”‚  WordPress/Greenshift CSS custom properties                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  04-Components                                              â”‚
â”‚  Button, Card, Input component tokens                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  03-Semantic                                                â”‚
â”‚  Role-based tokens: Brand, Background, Text, Status         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  02-Typography                                              â”‚
â”‚  Type scales: Major Second (1.125) / Major Third (1.25)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  01-Primitives                                              â”‚
â”‚  Raw values: Colors, Spacing, Radius, etc.                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
````

### Source Token Files

Located in `/tokens/`:
- `01-Primitives.json` - 22 color families, spacing, radius, etc.
- `02a-Typography-MajorSecond.json` - Conservative type scale
- `02b-Typography-MajorThird.json` - Expressive type scale
- `03-Semantic.json` - Light/Dark mode semantic tokens
- `04-Components.json` - Button, Card, Input tokens
- `05-Greenshift.json` - WordPress variable mapping

### Target File Structure

````
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ tokens/
â”‚   â”‚       â”œâ”€â”€ route.ts              (GET all tokens)
â”‚   â”‚       â”œâ”€â”€ primitives/route.ts
â”‚   â”‚       â”œâ”€â”€ semantic/route.ts
â”‚   â”‚       â”œâ”€â”€ components/route.ts
â”‚   â”‚       â”œâ”€â”€ typography/route.ts
â”‚   â”‚       â”œâ”€â”€ greenshift/route.ts
â”‚   â”‚       â””â”€â”€ export/route.ts       (Export theme as CSS/JSON)
â”‚   â”œâ”€â”€ tokens/
â”‚   â”‚   â”œâ”€â”€ primitives/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              (Primitives overview)
â”‚   â”‚   â”‚   â””â”€â”€ colors/page.tsx       (22 color palettes)
â”‚   â”‚   â”œâ”€â”€ semantic/page.tsx         (Semantic tokens)
â”‚   â”‚   â”œâ”€â”€ components/page.tsx         (Component tokens)
â”‚   â”‚   â”œâ”€â”€ colors/page.tsx           (UPDATE existing)
â”‚   â”‚   â”œâ”€â”€ typography/page.tsx       (UPDATE existing)
â”‚   â”‚   â””â”€â”€ spacing/page.tsx          (UPDATE existing)
â”‚   â”œâ”€â”€ frameworks/
â”‚   â”‚   â””â”€â”€ greenshift/page.tsx       (WordPress mapping)
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ explorer/page.tsx         (Token playground)
â”‚   â”‚   â””â”€â”€ relationships/page.tsx    (Node flow viewer)
â”‚   â”œâ”€â”€ preview/page.tsx              (UPDATE existing)
â”‚   â””â”€â”€ page.tsx                      (UPDATE home)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ tokens/
â”‚   â”‚   â”œâ”€â”€ TokenChip.tsx
â”‚   â”‚   â”œâ”€â”€ ColorSwatch.tsx
â”‚   â”‚   â”œâ”€â”€ ColorPaletteGrid.tsx
â”‚   â”‚   â”œâ”€â”€ SpacingVisual.tsx
â”‚   â”‚   â”œâ”€â”€ RadiusCurveIcon.tsx
â”‚   â”‚   â””â”€â”€ TokenReferenceChain.tsx
â”‚   â”œâ”€â”€ TokenFlowDiagram.tsx
â”‚   â”œâ”€â”€ TokenSearch.tsx
â”‚   â””â”€â”€ Sidebar.tsx                   (UPDATE)
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ tokens/
â”‚   â”‚   â”œâ”€â”€ parser.ts                 (Parse JSON tokens)
â”‚   â”‚   â”œâ”€â”€ resolver.ts               (Resolve references)
â”‚   â”‚   â”œâ”€â”€ chains.ts                 (Build dependency chains)
â”‚   â”‚   â””â”€â”€ export.ts                 (Export utilities)
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ types.ts                      (TypeScript interfaces)
â””â”€â”€ data/
    â””â”€â”€ tokens/                       (Cached/imported token data)
````

### Technical Notes

#### Token Reference Format

Tokens reference each other using this path format:
````
{CollectionName.modes.ModeName.Group.Subgroup.Variable}
````

Example chain:
````
Greenshift.Light.Preset.Color.brand
  â†’ {Semantic.modes.Light.Color.Brand.Default}
    â†’ {Primitives.modes.Default.Color.Emerald.400}
      â†’ #34d399
````

**Styling and Naming Conventions:**
*   Maintain consistent styling for token mapping callouts across all pages.
*   Use either CSS variables (vars) or dot notation consistently; do not mix them.
*   The token flow should be documented with the Raw value first, then Primitive, Semantic, Component, etc., from left to right.
*   Favor the chip style (with icon and border) for token references, similar to the architecture box, over the chips in the chain box.
*   Ensure copy-paste buttons and icon styling are consistent across the app.

#### API Response Format
````typescript
interface TokenResponse {
  collection: string;
  mode?: string;
  tokens: Token[];
  metadata: {
    count: number;
    types: string[];
    lastUpdated: string;
  };
}

interface Token {
  path: string;           // "Color.Emerald.400"
  name: string;           // "Emerald 400"
  value: string | number; // "#34d399" or 24
  type: string;           // "color" | "number"
  cssVariable: string;    // "--primitives-color-emerald-400"
  reference?: string;     // "{Primitives.modes.Default.Color.Emerald.400}"
  wpVariable?: string;    // "--wp--preset--color--brand"
}
````

#### CSS Variable Naming Convention
- Primitives: `--primitives-{group}-{name}-{shade}`
- Semantic: `--semantic-{category}-{role}`
- Components: `--component-{component}-{property}`
- Greenshift: `--wp--{preset|custom|style}--{path}`

### Quick Links

- Token Files: `/tokens/`
- Current App: `http://localhost:3000`
- Figma Import Guide: `/tokens/IMPORT-GUIDE.md`
- CSS Reference: `/tokens/css-variables-reference.md`
- Modernization 2.0 Styleguide: `/styleguide.md`

## WORKFLOW & RELEASE RULES

*   When creating a new design system application, always create a new react/nextjs app to preview updates locally before pushing the code live. Do not edit existing files directly.
*   After re-authenticating with GitHub CLI, always configure git with the appropriate email before pushing any code.
*   After initializing a git repository, always configure git with the appropriate email before adding files.

## CODING STANDARDS

*   When creating new UI elements for the design system, always adhere to the existing primitives and semantic names defined in the project's JSON and CSS files.
*   Always use an 8px grid system for spacing and sizing.
*   When creating theme settings, ensure that the spacing density controls vertical gaps and line heights, not just button padding.
*   In typography previews, ensure headings have appropriate line heights (`line-height: 1.1` for headings).
*   Style code tokens (e.g., "body", "clamp()") in code notation (e.g., red text with a rose background).
*   When displaying CSS variable information:
    *   Use the `VarInfo` component, which takes an array of variables and displays them as individual styled code badges.
    *   Include an optional `note` prop for explanatory text.
    *   Style each variable as a subtle pill with background highlighting.
    *   Avoid confusing arrow notation (e.g., `â†’`).
    *   Show actual wildcard patterns rather than cryptic formats (e.g., `*--mt`).
*   On the typography page, the grid should use proportional column widths instead of equal columns using the following values:
    *   The Token column should have a width of `1.5fr`.
    *   The Semantic Use column should have a width of `0.8fr`.
    *   The Size Range column should have a width of `0.8fr`.
    *   The Clamp Value column should have a width of `2fr`.
    *   The Preview column should have a width of `0.5fr`.
    *   The gap between columns should be `var(--spacing-3)` (12px).
*   On the preview page, line height variables and clamp sizes must be displayed in fields that users can click to copy the CSS value/variable.
*   The same copy-to-clipboard functionality should be implemented for colors on the preview page.
*   If line heights are rem values, always specify the "rem" unit label.
*   Ensure consistent styling across pages by adding copyable fields to token values.
*   Use `--line-height-snug` (1.25) for subtext and body copy line heights across all pages.
*   The border radius section on the spacing page should use the same clean table-based design with filled green squares that is used on the semantic tokens page.
*   All copy buttons should make the variable listed like var() the actual button with copy icon in it.

## DEBUGGING

(No existing debugging rules)

## STYLE GUIDES

*   Remove the visual view from the spacing page. The table view looks better.
*   The copy paste buttons and icon styling must be consistent across the app. The colors page particulary looks bad as both copy buttons are inside the color swatch.
*   On the primitives page, the token flow must be: raw value â†’ primitive â†’ semantic.
*   On the primitives page, the chips must be styled like other pages, using icons and colored backgrounds.
*   Copy paste buttons should be next to the value its copying.
*   Copy paste buttons should have a brief tooltip pop up that says "Variable copied!".
*   The line height visuals should clearly represent the different values.
*   The tooltip from the copy paste button must display the text and not be cropped by the box its in.
*   The order of the var flow on the Greenshift page must reflect the raw to Semantic left/right flow that the other pages follow, showing the primitive/raw value on the left flowing through to the framework-specific output on the right.
*   On the Greenshift page, the hex values must be to the left of the primitive var with an arrow to the right pointing to the primitive.
*   The section title for Foundations must be renamed to Primitives.
*   The current Primitive page must be the primitives Overview page, followed by the Colors, Typography, Spacing & Layout pages, so the section follows the same order and hierarchy as the others.
*   When clicking "Primitives Overview" then "Colors," the active state should only be applied to the \"Colors\" menu item. The &#96;isActive&#96; function in &#96;Sidebar.tsx&#96; must use exact path matching to prevent both \"Overview\" and \"Colors\" from appearing active simultaneously. The original logic using &#96;startsWith&#96; has been replaced with exact matching.
*   The reference chain on the Greenshift page must flow left-to-right from raw to semantic, showing the primitive/raw value on the left flowing through to the framework-specific output on the right.
*   All section header icons should be vertically aligned with the corresponding title text.
*   **Icon Style Rules:**
    *   **H1 Page Titles:** Use &#96;var(--color-secondary)&#96; icon with white background (&#96;var(--color-card)&#96;) and a light thin border (&#96;1px solid rgba(68, 75, 140, 0.2)&#96;).
    *   **Small Icons Inside a Callout:** Use a dark purple icon only (&#96;var(--color-secondary)&#96;) with no border or background.
    *   **H2 Titles and Icon Pairs:** Use &#96;var(--color-secondary)&#96; icon, light purple background (&#96;rgba(68, 75, 140, 0.08)&#96;), and no border.
    *   All icons should be visually centered vertically with their title by matching the title's line-height.
*   Icons used for page or section titles must be unique and representative of the area being referenced.
    *   The H1 icon must match what is used in the sidebar menu icon.
    *   Sub section icons must be unique and representative of that section.
    *   For instance, the two-layer architecture icon should be a layer icon, not a palette.
    *   The typography page's H1 title should use the "T" icon.
    *   The typography "Type Scale" section should use something like "Aa" or 2 different size letters to represent the "scale".

## NAMING CONVENTIONS

*   Use the following semantic names for card typography in CSS:
    *   &#96;--card-title-font-size&#96;: Uses &#96;--font-size-body&#96; (16-25px) â€” same size as body text but used with bold/semibold weight
    *   &#96;--card-title-lg-font-size&#96;: Uses &#96;--font-size-lead&#96; (20-31px) â€” for larger card titles
    *   &#96;--card-subtitle-font-size&#96;: Uses &#96;--font-size-body-small&#96; (13-20px) â€” for card descriptions
    *   &#96;--card-meta-font-size&#96;: Uses &#96;--font-size-caption&#96; â€” for metadata

## ERROR HANDLING

(No existing error handling rules)

## SECURITY

(No existing security rules)

## DEPLOYMENT

(No existing deployment rules)

## TODO LIST

### Phase 1: Documentation & Updates
&gt; **Goal:** Update all existing pages with new token data and add comprehensive documentation

The progress tracker reports "28/28 tasks" for Phase 1, but manually counting all checkbox items across sections 1.1-1.7 yields 31 completed items (11+6+6+1+1+1+5). The task count appears to be outdated and does not reflect the actual number of checklist items present in the phase documentation. The updated count is reflected below.

#### 1.1 Data Layer Setup
- [x] Create TypeScript interfaces for token structure (&#96;lib/types.ts&#96;)
- [x] Create token parser utility (&#96;lib/tokens/parser.ts&#96;)
- [x] Create reference resolver utility (&#96;lib/tokens/resolver.ts&#96;)
- [x] Create dependency chain builder (&#96;lib/tokens/chains.ts&#96;)
- [x] Set up API route for primitives (&#96;api/tokens/primitives/route.ts&#96;)
- [x] Set up API route for semantic tokens (&#96;api/tokens/semantic/route.ts&#96;)
- [x] Set up API route for component tokens (&#96;api/tokens/components/route.ts&#96;)
- [x] Set up API route for typography (&#96;api/tokens/typography/route.ts&#96;)
- [x] Set up API route for greenshift (&#96;api/tokens/greenshift/route.ts&#96;)
- [x] Set up main API route (&#96;api/tokens/route.ts&#96;)
- [x] Set up export API route (&#96;api/tokens/export/route.ts&#96;)

#### 1.2 Reusable Components
- [x] Create &#96;TokenChip&#96; component (color swatch + metadata)
- [x] Create &#96;ColorSwatch&#96; component (enhanced with references)
- [x] Create &#96;ColorPaletteGrid&#96; component (22 Ã— 11 grid)
- [x] Create &#96;SpacingVisual&#96; component (visual bar + value)
- [x] Create &#96;RadiusCurveIcon&#96; component (corner curve visualization)
- [x] Create &#96;TokenReferenceChain&#96; component (inline reference display)

#### 1.3 Primitives Documentation
- [x] Create Primitives overview page (&#96;tokens/primitives/page.tsx&#96;)
- [x] Create full color palettes page (&#96;tokens/primitives/colors/page.tsx&#96;)
  - Display all 22 color families (Slate through Rose + Base)
  - 11 shades per family (50-950)
  - Copy-to-clipboard for CSS variables and hex values
- [x] Update spacing page with new primitive data
- [x] Add radius documentation to primitives
- [x] Add duration/animation tokens documentation
- [x] Add font weights and line heights documentation

#### 1.4 Semantic Tokens Documentation
- [x] Create Semantic tokens page (&#96;tokens/semantic/page.tsx&#96;)
  - Color roles: Brand, Secondary, Background, Surface, Text, Card, Border, Status
  - Radius roles: Button, Card, Input, Badge, Modal
  - Layout: ContentWidth, WideWidth, ProseWidth
  - Show reference to primitive source

#### 1.5 Component Tokens Documentation
- [x] Create Component tokens page (&#96;tokens/components/page.tsx&#96;)
  - Button tokens (all variants)
  - Card tokens
  - Input tokens
  - Show reference chain to semantic â†’ primitives

#### 1.6 Greenshift/WordPress Documentation
- [x] Create Greenshift page (&#96;frameworks/greenshift/page.tsx&#96;)
  - Preset color mappings
  - Custom properties (Button, Card, Input, Badge, Modal)
  - Style global settings
  - Copy-ready CSS code blocks

#### 1.7 Update Existing Pages
- [x] Update Colors page with semantic + primitive organization
- [x] Update Typography page with scale comparison (Major Second vs Major Third)
- [x] Update Spacing page with primitive spacing scale
- [x] Update Home page with accurate token counts
- [x] Update Sidebar navigation with new structure

### Phase 2: Node Relationship Viewer
&gt; **Goal:** Interactive horizontal flow diagram showing token reference chains

#### 2.1 Flow Diagram Component
- [ ] Create &#96;TokenFlowDiagram&#96; component
- [ ] Implement horizontal layout (Greenshift â†’ Semantic â†’ Primitives â†’ Value)
- [ ] Add node styling for each layer type
- [ ] Add connecting lines/arrows between nodes
- [ ] Add hover states showing full chain
- [ ] Add click interaction to expand/focus nodes

#### 2.2 Relationships Page
- [ ] Create Relationships page (&#96;tools/relationships/page.tsx&#96;)
- [ ] Add token selector (search/dropdown)
- [ ] Display selected token's full dependency chain
- [ ] Show \"used by\" references (reverse lookup)
- [ ] Add layer filter (show specific layers only)

#### 2.3 Integration
- [ ] Add \"View Relationships\" button to token chips
- [ ] Link from documentation pages to relationship viewer
- [ ] Add mini relationship preview on hover

### Phase 3: Export/Import API Themer
&gt; **Goal:** Full playground with live preview, value editing, and theme export

#### 3.1 Token Playground
- [ ] Create Token Explorer page (&#96;tools/explorer/page.tsx&#96;)
- [ ] Implement searchable/filterable token list
- [ ] Add token type filters (color, number, string)
- [ ] Add layer filters (Primitive, Semantic, Component, Greenshift)
- [ ] Implement live value editing
- [ ] Show real-time preview updates

#### 3.2 Theme Preview Updates
- [ ] Update Preview page to use API data
- [ ] Add token variable names on component hover
- [ ] Implement \"swap primitive reference\" functionality
- [ ] Add theme state management
- [ ] Show active token overrides

#### 3.3 Export API
- [ ] Create export API route (&#96;api/tokens/export/route.ts&#96;)
  - Support CSS variables export format
  - Support JSON export format
  - Support Figma-compatible JSON export
  - Support WordPress theme.json export
- [ ] Add export UI with format selector

#### 3.4 Import/Save Themes
- [ ] Create import functionality for custom themes
- [ ] Add theme presets (default, custom variations)
- [ ] Implement theme saving (localStorage initially)
- [ ] Add \"Share Theme\" URL generation

## PROGRESS TRACKER

| Phase | Status | Progress |
|-------|--------|----------|
| Phase 1: Documentation | ğŸŸ¢ Complete | 31/31 tasks |
| Phase 2: Relationships | âšª Pending | 0/14 tasks |
| Phase 3: Export/Import | âšª Pending | 0/17 tasks |

**Total Progress:** 31/62 tasks (50%)

## SIDEBAR RULES

*   The section title for Foundations must be renamed to Primitives.
*   The current Primitive page must be the primitives Overview page, followed by the Colors, Typography, Spacing & Layout pages, so the section follows the same order and hierarchy as the others.
*   When clicking \"Primitives Overview\" then \"Colors,\" the active state should only be applied to the \"Colors\" menu item. The &#96;isActive&#96; function in &#96;Sidebar.tsx&#96; must use exact path matching to prevent both \"Overview\" and \"Colors\" from appearing active simultaneously. The original logic using &#96;startsWith&#96; has been replaced with exact matching.
*   The reference chain on the Greenshift page must flow left-to-right from raw to semantic, showing the primitive/raw value on the left flowing through to the framework-specific output on the right.

## MODERNIZATION PLAN

The following rules should be followed when modernizing the design system:\n\n### 1. Color Standardization\n*   Stats and headers should use a strict theme:\n    *   &#96;var(--color-brand)&#96; (Teal) for active elements and key values.\n    *   &#96;var(--color-secondary)&#96; (Deep Purple) for architectural/structural elements.\n    *   Neutral grays for labels and secondary text to reduce visual noise.\n\n### 2. Component Consistency\n*   \"Stats\" and \"Callouts\" should be styled consistently:\n    *   Unified Stats Cards: Standardize to a clean, single-style card using the Brand color for data and Neutrals for labels.\n    *   Standardized Callouts: Create a consistent pattern for \"Info\" and \"Note\" boxes using semantic background tints (e.g., &#96;rgba(var(--color-brand-rgb), 0.05)&#96;).\n\n### 3. Typography Refinement\n*   The documentation site should use the **Major Second (Conservative)** scale to prevent large type scale jumps. This creates a more professional, readable rhythm suitable for documentation.\n\n### 4. Copy Button Implementation\n*   All copy buttons should transform the display of variables, specifically those like &#96;var()&#96;, into actual copy buttons with icons. This should be implemented across all pages, including &#96;PrimitivesPage&#96;.\n\n### 5. Modernization 2.0 Guidelines\n*   When updating pages to match the new \"Modernization 2.0\" style of the Design System documentation, follow these strict guidelines:\n\n    *   **Color System &amp; Theming:**\n        *   Eliminate Random Colors: Do not use arbitrary colors (orange, green, blue) for decoration.\n        *   Primary Theme (Action/Data): Use &#96;var(--color-brand)&#96; (Teal) for interactive elements, links, and key data values (like numbers in stats cards).\n        *   Secondary Theme (Structure): Use &#96;var(--color-secondary)&#96; (Deep Purple) for architectural elements, section headers, and page-level icons.\n        *   Neutral Foundation: Use &#96;var(--color-muted)&#96; for labels and secondary text.\n        *   Backgrounds: Replace hardcoded hex tints (e.g., &#96;#3b82f610&#96;) with semantic &#96;rgba&#96; values or standard tokens if available.\n    *   **Typography:**\n        *   Scale: Ensure all headings use the Major Second (&#96;--ms&#96;) scale (e.g., &#96;var(--font-size-h2--ms)&#96;) to prevent jarring size jumps.\n        *   Body: Use &#96;var(--line-height-relaxed)&#96; for descriptive paragraphs (&#96;max_width: 65ch&#96;).\n    *   **Components &amp; Patterns:**\n        *   TokenCopyButton: Replace any static text display of CSS variables (e.g., &#96;var(--my-token)&#96;) with the &#96;&lt;TokenCopyButton /&gt;&#96; component.\n            *   *Import:* &#96;import { TokenCopyButton } from '@/components/tokens/TokenCopyButton';&#96;\n            *   *Usage:* &#96;&lt;TokenCopyButton value=\"var(--token-name)\" displayValue=\"--token-name\" variant=\"primary\" /&gt;&#96;\n        *   Page Header: Follow the standard pattern:\n            1.  Breadcrumbs (Links: Muted -&gt; Current: Foreground).\n            2.  Icon Box: 56x56px, Rounded-XL, using &#96;var(--color-secondary)&#96; for the icon and a 10% opacity tint for the background.\n            3.  Title: H2 weight 700.\n            4.  Description: Body size, Muted color.\n        *   Stats/Cards: Uniform design:\n            *   Value: &#96;var(--color-brand)&#96;, Bold, H4 size.\n            *   Label: &#96;var(--color-muted)&#96;, Caption size, Uppercase tracking.\n            *   Container: &#96;var(--color-card)&#96; background, &#96;var(--radius-xl)&#96; border radius, standard border.\n    *   **Layout:**\n        *   Ensure strictly 4px/8px grid usage (&#96;var(--spacing-4)&#96;, &#96;var(--spacing-8)&#96;).\n        *   Align all content to &#96;max_width: var(--layout-6xl)&#96;.\n\n### 6. Icon Styling\n\n*   Main page title icons: Larger colored icon with neutral background and matching colored border.\n*   Smaller section icons: Colored icon only with no border or background.\n  * Page header icon box (56x56px):\n    * Background: neutral (like &#96;var(--color-card)&#96; or &#96;rgba(0,0,0,0.03)&#96;)\n    * Border: 1px solid matching the icon color (brand or secondary)\n    * Icon: colored (brand or secondary)\n\n### 7. Icon Style Summary\n\n| Element | Style |\n|---|---|\n| Page Header Icon Box |  Background: neutral, Border: 1px solid [icon color], Icon: colored |\n| Section Header Icons |  No background, No border, Icon: colored |\n\n### 8. Plan of Action\n1.  Update &#96;globals.css&#96;: Remap semantic typography tokens to the Major Second (&#96;--ms&#96;) scale.\n2.  Refactor Pages: Update &#96;Primitives&#96;, &#96;Components&#96;, and &#96;Typography&#96; pages to remove inline styles and apply the new color theme and copy button implementation.